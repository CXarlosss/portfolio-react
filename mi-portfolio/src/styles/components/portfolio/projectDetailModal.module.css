.modalOverlay {
  position: fixed;
  inset: 0; /* Asegura que cubra todo el viewport (top, right, bottom, left a 0) */
  background: rgba(0, 0, 0, 0.9); /* Fondo más oscuro y opaco */
  backdrop-filter: blur(15px); /* Aumenta el desenfoque para un efecto más inmersivo */
  z-index: 1000;
  
  display: flex;
  justify-content: center; /* Centra horizontalmente el modalWrapper */
  align-items: center; /* Centra verticalmente el modalWrapper */
  
  padding: 1.5rem; /* Pequeño padding para que el modal no toque los bordes en pantallas muy pequeñas */
  animation: fadeIn 0.3s ease forwards;
  
  /* IMPORTANTE: Permitir que el overlay tenga scroll si el contenido del modal es más alto que el viewport.
     Esto asegura que siempre puedas ver todo el modal, incluso si es muy largo. */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* Para un scroll más suave en dispositivos iOS */
}

.modalWrapper {
  background: #ffffff;
  border-radius: 1.5rem;
  width: 100%; /* El modalWrapper ocupa el 100% del espacio disponible por el padding del overlay */
  max-width: 900px; /* Mantén un ancho máximo razonable para el contenido */
  
  /* Esenciales para el centrado vertical robusto y el scroll interno: */
  max-height: 90vh; /* Limita la altura del modal al 90% del viewport */
  overflow-y: auto; /* Permite scroll solo si el contenido es largo dentro del modal */
  flex-shrink: 0; /* Evita que el modal se encoja si el espacio es limitado */
  margin: auto; /* Junto con align-items: center en el padre, ayuda a un centrado fuerte incluso con contenido largo */

  padding: 2.5rem;
  position: relative;
  box-shadow: 0 1.5rem 3.5rem rgba(0, 0, 0, 0.4); /* Sombra más intensa para destacar */
  animation: slideInUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* --- Resto del CSS (sin cambios significativos para el posicionamiento) --- */

.modalCloseButton {
  position: absolute;
  top: 1.25rem;
  right: 1.25rem;
  background: none;
  border: none;
  font-size: 2.5rem;
  font-weight: 300;
  color: #a0a0a0;
  cursor: pointer;
  transition: transform 0.2s ease, color 0.2s ease;
  padding: 0.25rem;
  line-height: 1;
}

.modalCloseButton:hover {
  transform: scale(1.15) rotate(90deg);
  color: #333;
}

.headerSection {
  text-align: center;
  margin-bottom: 2rem;
}

.projectTitle {
  font-size: 2.5rem; /* Ajuste para un mejor equilibrio */
  font-weight: 800; /* Más negrita */
  color: var(--color-accent, #10b981); /* Mantén tu color de acento */
  margin-bottom: 0.75rem;
  line-height: 1.2;
}

.projectDescription {
  font-size: 1.05rem; /* Ligeramente más pequeño para la descripción larga */
  line-height: 1.7;
  margin-bottom: 1.5rem;
  color: #4a4a4a; /* Un gris más suave que el negro puro */
  max-width: 700px; /* Limita el ancho del texto para mejor legibilidad */
  margin-left: auto;
  margin-right: auto;
}

.subheading {
  font-size: 1.5rem;
  font-weight: 700;
  color: #333; /* Un poco más oscuro para los subtítulos */
  margin-bottom: 1rem;
  text-align: center; /* Centrar también los subtítulos */
}

/* --- Carrusel de Imágenes --- */
.carousel {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem; /* Espaciado un poco más compacto */
  margin-bottom: 2.5rem; /* Más espacio debajo del carrusel */
  position: relative; /* Para posicionar los botones de navegación */
}

.carouselImage {
  max-width: 90%; /* Ajuste para que la imagen no ocupe todo el ancho */
  height: 380px; /* Aumenta la altura para que las imágenes sean más prominentes */
  border-radius: 1rem;
  object-fit: contain; /* Cambiado a 'contain' para asegurar que la imagen completa se vea sin recortarse, manteniendo la relación de aspecto. Si prefieres 'cover' y recortar, puedes revertirlo. */
  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2); /* Sombra más definida para la imagen */
  transition: transform 0.3s ease; /* Transición suave al cambiar de imagen */
}

.navButton {
  background: rgba(0, 0, 0, 0.5); /* Fondo semitransparente oscuro */
  color: white;
  border: none;
  font-size: 2.5rem; /* Más grande para ser más fácil de tocar */
  width: 3.5rem; /* Mayor tamaño para el botón */
  height: 3.5rem; /* Mayor tamaño para el botón */
  border-radius: 50%;
  cursor: pointer;
  display: flex; /* Para centrar el símbolo */
  justify-content: center;
  align-items: center;
  transition: background 0.2s ease, transform 0.2s ease;
  flex-shrink: 0; /* Asegura que no se encoja */
}

.navButton:hover {
  background: rgba(0, 0, 0, 0.7); /* Más oscuro al hover */
  transform: scale(1.05); /* Un ligero efecto de escala */
}

/* --- Sección de Tecnologías --- */
.technologiesSection {
  margin-top: 2rem; /* Espacio superior */
  margin-bottom: 2.5rem; /* Espacio inferior */
  text-align: center; /* Centrar las aptitudes */
}

.modalTechnologies {
  display: flex;
  flex-wrap: wrap;
  justify-content: center; /* Centra las etiquetas de tecnología */
  gap: 0.8rem; /* Un poco más de espacio entre etiquetas */
  margin-bottom: 0; /* Ya no es necesario margin-bottom aquí */
}

.modalTechnologies li {
  list-style: none; /* Eliminar viñetas */
  background-color: var(--color-accent, #10b981); /* Usar tu color de acento */
  color: white; /* Texto blanco para contraste */
  padding: 0.6rem 1.2rem; /* Más padding para que sean más grandes */
  border-radius: 9999px; /* Píldoras completamente redondas */
  font-size: 0.9rem; /* Un poco más grande y legible */
  font-weight: 600;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra suave */
  transition: transform 0.2s ease;
}

.modalTechnologies li:hover {
  transform: translateY(-2px); /* Pequeño efecto hover */
}

/* --- Enlaces de Acción --- */
.modalLinks {
  display: flex;
  flex-wrap: wrap; /* Para que se adapten en pantallas pequeñas */
  justify-content: center; /* Centrar los botones */
  gap: 1.2rem; /* Más espacio entre botones */
  margin-top: 2.5rem; /* Espacio encima de los botones */
  margin-bottom: 0; /* Eliminar margen inferior si es el último elemento */
}

/* --- Animaciones --- */
.fadeOut {
  animation: fadeOut 0.3s ease forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Nueva animación para la entrada del modal */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(50px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* --- Media Queries para Responsividad --- */
@media (max-width: 768px) {
  .modalWrapper {
    padding: 1.5rem; /* Menos padding en móviles */
    max-width: 95vw; /* Ocupa más ancho en pantallas pequeñas */
  }

  .modalCloseButton {
    font-size: 2rem;
    top: 0.75rem;
    right: 0.75rem;
  }

  .projectTitle {
    font-size: 1.8rem; /* Título más pequeño en móviles */
  }

  .projectDescription {
    font-size: 0.95rem; /* Descripción más pequeña en móviles */
  }

  .carouselImage {
    height: 250px; /* Ajusta la altura de la imagen en móviles */
  }

  .navButton {
    width: 2.5rem;
    height: 2.5rem;
    font-size: 2rem;
  }

  .modalTechnologies li {
    padding: 0.4rem 0.8rem;
    font-size: 0.8rem;
  }

  .modalLinks {
    flex-direction: column; /* Botones apilados en móviles */
    align-items: center; /* Centrar los botones apilados */
  }
}

@media (max-width: 480px) {
  .modalWrapper {
    padding: 1rem;
    border-radius: 1rem;
  }

  .projectTitle {
    font-size: 1.5rem;
  }

  .carouselImage {
    height: 200px; /* Aún más pequeña en dispositivos muy pequeños */
  }
}